# 🎲 GuessWho-Stereotype

<img src="static/logo.png" alt="GuessWho Stereotype Research Game Logo" width="200">

An interactive web application inspired by the classic “Guess Who?” game, designed to explore how people express social and cultural stereotypes indirectly.
Instead of discussing stereotypes explicitly, players reveal their reasoning through the process of asking yes/no questions and eliminating characters — while a moderator observes and records both choices and dialogue for analysis.

The game is built with Flask and Socket.IO for real-time interaction between players and moderator. Audio is captured via WebRTC, and all game events — including card selections, eliminations, and timing — are logged for later study. Each session can be initiated by a moderator, who creates a new game and shares unique links with Player 1 and Player 2.

---

## ✨ Features 

- 🧑‍🎓 **Player 1** – sees one *secret* card and answers yes/no questions  
- 🧑‍🚀 **Player 2** – sees all character cards, asks questions, and eliminates options based on the answers
- 🧑‍⚖️ **Moderator** – monitors both players in real time, takes notes, and can start or reset games.
- 💬 **Real-time communication** powered by Socket.IO (synchronized questions, answers, and eliminations).
- 🗃️ **SQLite logging** of all events (chat, eliminations, system messages)  
- 🔒 Each game isolated by a unique `game_id` (separate Socket.IO room)

---

## 🛠️ Tech Stack

| Layer              | Technology                            |
| ------------------ | ------------------------------------- |
| **Frontend**       | HTML + JavaScript (Socket.IO)         |
| **Backend**        | Flask (Python 3.10+) + Flask-SocketIO |
| **Database**       | SQLite 3 (`db/games.db`)              |
| **Deployment**     | Local (MVP) → web hosting later       |
| **Audio (future)** | WebRTC for voice capture              |

---

## 🚀 How to Run / Test

### 1️⃣ Set up environment
```bash
# Create and activate a virtual environment
python -m venv venv
source venv/bin/activate   # (Windows: venv\Scripts\activate)

# Install required packages
pip install -r requirements.txt
```

### 2️⃣ Start the server
```bash
python app.py
```
### 3️⃣ Create and Join a Game Session
Each game has its own unique game_id generated by the backend.

1. Open  
```
http://127.0.0.1:5000/moderator
```

2. Click 'New Game' button 
   → the app calls `/create_game` and reloads both player iframes with the new `game_id`.

Then open the three views manually (replace <game_id> with your own):

Player 1: 
```
http://127.0.0.1:5000/player1?game_id=<game_id>
```

Player 2: 
```
http://127.0.0.1:5000/player2?game_id=<game_id>
```

Moderator: 
```
http://127.0.0.1:5000/moderator?game_id=<game_id>
```

## Data and Logging
Every game session generates structured logs for later analysis of player behavior and interaction patterns.

- Event logs are stored in db/games.db and include: Game metadata (game_id, timestamps, players), Card elimination sequence, Questions and responses (yes/no), Moderator notes and system messages

- Audio recordings (planned) will be captured from each participant via WebRTC and stored per session as .webm files.

- Logs can be exported or analyzed externally (e.g., in Python, R, or SQL) to study how stereotypes are expressed implicitly through gameplay.